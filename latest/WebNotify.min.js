!function(i,t){var n=function o(n){if(i===this)return new o(n);"undefined"==typeof n&&(n={}),this.icon=n.icon||!1,this.isSupported=!1,this.hasPermission=!1,this.hasUnity=!1,this.disableNotifications=!!n.disableNotifications||!1,this.disabledOnTabFocussed=!!n.disabledOnTabFocussed||!1,this.inFocus=!0;var e=this;"undefined"!=typeof external.getUnityObject&&(this.Unity=external.getUnityObject(n.unityVersion||1),this.Unity.init({name:n.appName||"Javascript.WebNotify",iconUrl:n.icon||null,onInit:function(){e.hasUnity=!0}}));try{var s,c;"undefined"!=typeof document.hidden?(s="hidden",c="visibilitychange"):"undefined"!=typeof document.mozHidden?(s="mozHidden",c="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(s="msHidden",c="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(s="webkitHidden",c="webkitvisibilitychange"),"undefined"!=typeof document.addEventListener&&"undefined"!=typeof document[s]&&document.addEventListener(c,function(){e.inFocus=!document[s]},!1),this.isSupported=!!(i.Notification||i.webkitNotifications||navigator.mozNotification||i.external&&i.external.msIsSiteMode()!==t)}catch(a){}return this};n.fn=n.prototype={setConfig:function(i){return"undefined"==typeof i&&(i={}),this.icon=i.icon||!1,this.disableNotifications=!!i.disableNotifications||!1,this.disabledOnTabFocussed=!!i.disabledOnTabFocussed||!1,this},getWindowsBadgeMetaTag:function(i,t){return i=i||"https://www.domain.com/windows-polling-icon-state.xml",t=t||30,'<meta name="msapplication-badge" content="frequency='+t+"; polling-uri="+i+'"/>'},refreshWindowsBadge:function(){return i.external&&i.external.msSiteModeRefreshBadge&&i.external.msSiteModeRefreshBadge(),this},requestPermission:function(){return this.isSupported&&this.checkPermission()&&!this.hasPermission&&(i.webkitNotifications&&i.webkitNotifications.checkPermission?i.webkitNotifications.requestPermission():i.Notification&&i.Notification.requestPermission&&i.Notification.requestPermission()),this},checkPermission:function(){var t="default",n="granted",o="denied",e=[n,t,o],s=o;return i.webkitNotifications&&i.webkitNotifications.checkPermission?s=e[i.webkitNotifications.checkPermission()]:this.hasUnity?s=n:navigator.mozNotification?s=n:i.Notification&&i.Notification.permission&&(s=i.Notification.permission),this.hasPermission=s===n,s},createNotification:function(t,n){if("undefined"==typeof n&&(n={}),this.isSupported&&this.checkPermission()&&this.hasPermission&&!this.disableNotifications&&(!this.disabledOnTabFocussed||this.disabledOnTabFocussed&&!this.inFocus)){var o;this.hasUnity?this.Unity.Notification.showNotification(t,n.body||"",n.icon||this.icon||null):i.Notification?o=new i.Notification(t,{icon:n.icon||this.icon||"",body:n.body||"",tag:n.tag||"",dir:n.dir||"ltr",lang:n.lang||"en-US"}):i.webkitNotifications?(o=i.webkitNotifications.createNotification(n.icon||this.icon||null,t,n.body||""),o.show()):navigator.mozNotification&&(o=navigator.mozNotification.createNotification(t,n.body||"",n.icon||this.icon||null),o.show()),"function"==typeof n.onshow&&(o.onshow=n.onshow),"function"==typeof n.onclick&&(o.onclick=n.onclick),"function"==typeof n.onclose&&(o.onclose=n.onclose),"function"==typeof n.onerror&&(o.onerror=n.onerror)}return this}},i.WebNotify=n}(window);
//# sourceMappingURL=WebNotify.min.js.map