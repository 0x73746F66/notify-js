!function(i,t){var o=function n(o){if(i===this)return new n(o);if(t===o&&(o={}),this.icon=o.icon||!1,this.isSupported=!1,this.hasPermission=!1,this.hasUnity=!1,t!==external.getUnityObject){var e=this;this.Unity=external.getUnityObject(o.unityVersion||1),this.Unity.init({name:o.appName||"Javascript.WebNotify",iconUrl:o.icon||null,onInit:function(){e.hasUnity=!0}})}try{this.isSupported=!!(i.Notification||i.webkitNotifications||navigator.mozNotification||i.external&&i.external.msIsSiteMode()!==t)}catch(s){}return this};o.fn=o.prototype={getWindowsBadgeMetaTag:function(i,t){return i=i||"https://www.domain.com/windows-polling-icon-state.xml",t=t||30,'<meta name="msapplication-badge" content="frequency='+t+"; polling-uri="+i+'"/>'},refreshWindowsBadge:function(){return i.external&&i.external.msSiteModeRefreshBadge&&i.external.msSiteModeRefreshBadge(),this},requestPermission:function(){return this.isSupported&&this.checkPermission()&&!this.hasPermission&&(i.webkitNotifications&&i.webkitNotifications.checkPermission?i.webkitNotifications.requestPermission():i.Notification&&i.Notification.requestPermission&&i.Notification.requestPermission()),this},checkPermission:function(){var t="default",o="granted",n="denied",e=[o,t,n],s=n;return i.webkitNotifications&&i.webkitNotifications.checkPermission?s=e[i.webkitNotifications.checkPermission()]:this.hasUnity?s=o:navigator.mozNotification?s=o:i.Notification&&i.Notification.permission&&(s=i.Notification.permission),this.hasPermission=s===o,s},createNotification:function(o,n){if(t===n&&(n={}),this.isSupported&&this.checkPermission()&&this.hasPermission){var e;this.hasUnity?this.Unity.Notification.showNotification(o,n.body||"",n.icon||null):i.Notification?e=new i.Notification(o,{icon:n.icon||"",body:n.body||"",tag:n.tag||"",dir:n.dir||"ltr",lang:n.lang||"en-US"}):i.webkitNotifications?(e=i.webkitNotifications.createNotification(n.icon||null,o,n.body||""),e.show()):navigator.mozNotification&&(e=navigator.mozNotification.createNotification(o,n.body||"",n.icon||null),e.show()),"function"==typeof n.onshow&&(e.onshow=n.onshow),"function"==typeof n.onclick&&(e.onclick=n.onclick),"function"==typeof n.onclose&&(e.onclose=n.onclose),"function"==typeof n.onerror&&(e.onerror=n.onerror)}return this}},i.WebNotify=o}(window);